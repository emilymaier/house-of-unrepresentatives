{{define "overallTable"}}
{{$totalVotes := .TotalVotes}}
{{$totalSeats := .TotalSeats}}
<table><thead><tr><th>Party</th><th colspan="2">Votes</th><th colspan="2">Seats</th><th>Expected Seats (National Popular Vote)</th><th>Expected Seats (National Popular Vote Without 1-District States)</th><th>Expected Seats (State Popular Votes)</th></tr></thead><tbody>
{{range .Parties}}
	<tr><td>{{.Name}}</td><td>{{commaNum .Votes}}</td><td>{{renderPercentage .Votes $totalVotes}}</td><td>{{.SeatCount}}</td><td>{{renderPercentage .SeatCount $totalSeats}}</td><td>{{printf "%.1f" .ExpectedSeats.National}}</td><td>{{printf "%.1f" .ExpectedSeats.NationalWithout1}}</td><td>{{printf "%.1f" .ExpectedSeats.State}}</td></tr>
	{{if len .Seats}}
		<tr><td colspan="8">
		<a href="#hide{{.Name}}" id="hide{{.Name}}" class="hide">+</a>
		<a href="#show{{.Name}}" id="show{{.Name}}" class="show">â€“</a>
		<i>Show seats</i>
		<ol>
		{{range .Seats}}
			{{$stateName := index . 0}}
			{{$districts := index . 1}}
			<li class="stateList">{{$stateName}}: {{$districts}}</li>
		{{end}}
		</ol></td></tr>
	{{end}}
{{end}}
<tr><td>Total</td><td>{{commaNum .TotalVotes}}</td><td></td><td>{{.TotalSeats}}</td><td></td><td></td><td></td><td></td></tr></tbody></table>
{{end}}

{{define "stateTable"}}
{{$totalVotes := .TotalVotes}}
{{$totalSeats := .TotalSeats}}
<table><thead><tr><th>Party</th><th colspan="2">Votes</th><th colspan="2">Seats</th><th>Expected Seats (Popular Vote)</th></tr></thead><tbody>
{{range .Parties}}
	<tr><td>{{.Name}}</td><td>{{commaNum .Votes}}</td><td>{{renderPercentage .Votes $totalVotes}}</td><td>{{.SeatCount}}</td><td>{{renderPercentage .SeatCount $totalSeats}}</td><td>{{printf "%.1f" .ExpectedSeats.National}}</td></tr>
{{end}}
<tr><td>Total</td><td>{{commaNum .TotalVotes}}</td><td></td><td>{{.TotalSeats}}</td><td></td><td></td></tr></tbody></table>
{{end}}

<!DOCTYPE html>
<html>
<head>
<style>
	#container {
		padding-left: 175px;
	}
	#sidebar {
		position: absolute;
		top: 0; bottom: 0; left: 0;
		width: 175px;
	}
	#sidebar ol {
		padding: 0;
	}
	.yearList {
		list-style: none;
		padding-left: 10px;
	}
	.stateList {
		list-style: none;
		padding-left: 25px;
	}
	.stateList > a {
		color: #000000;
		text-decoration: none;
		font-size: 80%;
	}
	.show {
		display: none;
	}
	.hide:target + .show {
		display: inline;
	}
	.hide:target {
		display: none;
	}
	.hide ~ ol {
		display: none;
	}
	.hide:target ~ ol {
		display: inline;
	}
	.hide, .show {
		color: #000000;
		text-decoration: none;
	}
	.biasRepublican {
		color: #ff0000;
	}
	.biasDemocrat {
		color: #0000ff;
	}
	.biasIndependent {
		color: #ffff00;
	}
	table {
		border-spacing: 0px;
		border-collapse: collapse;
	}
	th, td {
		border: 1px solid #666;
		border-collapse: collapse;
		padding: 4px;
	}
	th {
		background: none repeat scroll 0% 0% #DDD;
		font-weight: bold;
	}
	.district table, .district img {
		display: inline-block;
		margin-left: auto;
		margin-right: auto;
		vertical-align: top;
	}
	.district img {
		width: 600px;
	}
</style>
</head>
<body>
<div id="container">
